# Bulk Repository Update Script

このスクリプトは、複数のリポジトリに対して指定されたファイルの文字列を一括で置換または削除し、新しいブランチを作成してプルリクエストを作成します。

## 前提条件

以下のツールがインストールされている必要があります。

- `yq`
- `gh`

また、事前にGitHubにログインしておく必要があります。

```bash
gh auth login
```


## 使用方法

1. `repo-list.yaml`ファイルを作成し、以下の形式でリポジトリと文字列の情報を記述します。

    ```yaml
    target-file: "ファイル名"
    new-branch: "新しいブランチ名"
    repositories:
      - name: "リポジトリ名1"
      - name: "リポジトリ名2"
    strings:
      - old: "置換前の文字列"
        new: "置換後の文字列"
        action: "replace"
      - old: "削除する文字列"
        action: "delete"
    ```

2. スクリプトを実行します。

    ```bash
    bash bulk-repo-update.sh
    ```

3. スクリプトが実行されると、指定されたリポジトリ内の指定されたファイルに対して文字列の置換または削除が行われ、新しいブランチが作成されます。変更がコミットされ、リモートにプッシュされ、プルリクエストが作成されます。

4. 作成されたプルリクエストのURLが出力されます。

## 注意事項

- スクリプトは現在のディレクトリ以下のリポジトリを検索します。リポジトリが存在しない場合はエラーメッセージが表示されます。